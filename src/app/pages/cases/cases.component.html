<!-- Cases Page with Layout -->
<div class="cases-container">
  
  <!-- Left Column: Side Navigation -->
  <app-side-nav
    #sideNav
    [isCollapsed]="isSidebarCollapsed"
    [currentSearchQuery]="currentSearchQuery"
    [isSearching]="isSearching"
    (itemClick)="onNavItemClick($event)"
    (sidebarToggle)="onSidebarToggle()"
    (historySearch)="onHistorySearch($event)">
  </app-side-nav>
  
  <!-- Sticky Header at Top -->
  <app-cases-header
    [isSidebarCollapsed]="isSidebarCollapsed"
    [projectName]="projectName"
    [currentSearchQuery]="currentSearchQuery"
    [hasSearched]="hasSearched && !isSearchBarExpanded"
    [showCollapseButton]="showResults && hasSearched && isSearchBarExpanded"
    (sidebarToggle)="onSidebarToggle()"
    (projectClick)="onProjectClick()"
    (searchQueryClick)="onSearchQueryClick()"
    (search)="onSearch($event)"
    (filterSearch)="onFilterSearch($event.filterType, $event.filterValue)"
    (expandSearch)="onExpandSearch()"
    (collapseSearch)="onCollapseSearch()">
  </app-cases-header>

  <!-- Results Section (scrollable) -->
  <app-cases-layout 
    *ngIf="hasSearched"
    [viewMode]="viewMode"
    [isSidebarCollapsed]="isSidebarCollapsed"
    [isSearchBarExpanded]="isSearchBarExpanded"
    (viewModeChange)="toggleViewMode($event)">
        <!-- Cases Content Area -->
          
          <!-- Skeleton Loader Cards (while loading) -->
          <div *ngIf="isSearching">
              <div *ngFor="let card of skeletonCards" 
                   class="border-b border-gray-200 p-6 bg-zinc-200 animate-pulse transition-all">
              
              <!-- Case Title Row -->
              <div class="flex items-start case-card-title">
                <div class="w-5 h-5 bg-gray-300 rounded mr-1 mt-1"></div>
                <div class="h-6 bg-gray-300 rounded w-2/3"></div>
              </div>
              
              <!-- Badges Row -->
              <div class="flex flex-wrap gap-4 mb-4">
                <div class="h-6 bg-gray-200 rounded-full w-16"></div>
                <div class="h-6 bg-gray-200 rounded-full w-20"></div>
                <div class="h-6 bg-gray-200 rounded-full w-18"></div>
                <div class="h-6 bg-gray-200 rounded-full w-20"></div>
              </div>
              
              <!-- Data Row -->
              <div class="flex flex-wrap gap-6 text-sm">
                <div class="flex items-center space-x-2">
                  <div class="w-4 h-4 bg-gray-300 rounded"></div>
                  <div class="h-4 bg-gray-300 rounded w-16"></div>
                  <div class="h-4 bg-gray-300 rounded w-20"></div>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="w-4 h-4 bg-gray-300 rounded"></div>
                  <div class="h-4 bg-gray-300 rounded w-12"></div>
                  <div class="h-4 bg-gray-300 rounded w-32"></div>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="w-4 h-4 bg-gray-300 rounded"></div>
                  <div class="h-4 bg-gray-300 rounded w-10"></div>
                  <div class="h-4 bg-gray-300 rounded w-24"></div>
              </div>
                <div class="flex items-center space-x-2">
                  <div class="w-4 h-4 bg-gray-300 rounded"></div>
                  <div class="h-4 bg-gray-300 rounded w-10"></div>
                  <div class="h-4 bg-gray-300 rounded w-16"></div>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="w-4 h-4 bg-gray-300 rounded"></div>
                  <div class="h-4 bg-gray-300 rounded w-14"></div>
                  <div class="h-4 bg-gray-300 rounded w-24"></div>
                </div>
              </div>
              
            </div>
          </div>

          <!-- Actual Results Cards (after loading) - Limited height with scroll -->
          <div *ngIf="!isSearching && showResults" id="results-section" class="space-y-0" (click)="closeAllFirstCardTooltips()">
            
            <!-- Result Card 1 -->
            <div *ngIf="shouldShowCard(1)" class="border-b border-gray-200 case-card bg-white transition-all min-h-fit overflow-visible relative group p-6 pt-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight underline cursor-pointer"
                    (click)="onCaseClick('CIV537691', getSearchRelatedTitle())">
                  {{ getSearchRelatedTitle() }}
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">CIV537691</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">California Superior Courts - San Mateo County Superior Court</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">8 March 2016</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Civil</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Active</span></div>
              </div>
              
              <!-- Match Reason Snippet - Only show for DOCUMENT filter searches -->
              <div *ngIf="isFilterBasedSearch && currentFilterType === 'document'" class="flex items-start gap-2 px-3 py-2 bg-teal-50 border-l-2 border-[#146B85] rounded mb-3 match-reason-snippet">
                <i class="ri-search-line text-[#146B85] text-sm mt-0.5 flex-shrink-0"></i>
                <div class="flex-1 min-w-0">
                  <span class="text-xs font-medium text-gray-700">Matching Document:</span>
                  <span class="text-xs text-gray-900 ml-1">Motion for Summary Judgment - Civil Rights Case</span>
                </div>
              </div>
              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="cursor-pointer relative" (click)="toggleFirstCardTooltip('attorney', $event)">
                  <div class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 h-[28px]">
                    <div class="flex items-center gap-1.5">
                      <i class="ri-user-line text-sm"></i>
                      <span>Attorney</span>
                    </div>
                    <div class="h-4 w-px bg-gray-400"></div>
                    <span class="text-[11px] font-semibold text-gray-600">2016-03-08</span>
                  </div>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 transition-opacity duration-300 z-50 w-80"
                       [class.opacity-100]="firstCardTooltips['attorney']"
                       [class.opacity-0]="!firstCardTooltips['attorney']"
                       [class.pointer-events-none]="!firstCardTooltips['attorney']">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="cursor-pointer relative" (click)="toggleFirstCardTooltip('docket', $event)">
                  <div class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 h-[28px]">
                    <div class="flex items-center gap-1.5">
                      <i class="ri-file-list-3-line text-sm"></i>
                      <span>Docket</span>
                    </div>
                    <div class="h-4 w-px bg-gray-400"></div>
                    <span class="text-[11px] font-semibold text-gray-600">2016-03-08</span>
                  </div>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 transition-opacity duration-300 z-50 w-80"
                       [class.opacity-100]="firstCardTooltips['docket']"
                       [class.opacity-0]="!firstCardTooltips['docket']"
                       [class.pointer-events-none]="!firstCardTooltips['docket']">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="cursor-pointer relative" (click)="toggleFirstCardTooltip('defendant', $event)">
                  <div class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 h-[28px]">
                    <div class="flex items-center gap-1.5">
                      <i class="ri-user-forbid-line text-sm"></i>
                      <span>Defendant</span>
                    </div>
                    <div class="h-4 w-px bg-gray-400"></div>
                    <span class="text-[11px] font-semibold text-gray-600">2016-03-08</span>
                  </div>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 transition-opacity duration-300 z-50 w-80"
                       [class.opacity-100]="firstCardTooltips['defendant']"
                       [class.opacity-0]="!firstCardTooltips['defendant']"
                       [class.pointer-events-none]="!firstCardTooltips['defendant']">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="cursor-pointer relative group/documents1">
                  <div class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 h-[28px]">
                    <div class="flex items-center gap-1.5">
                      <i class="ri-folder-line text-sm"></i>
                      <span>Documents</span>
                    </div>
                    <div class="h-4 w-px bg-gray-400"></div>
                    <span class="text-[11px] font-semibold text-gray-600">8-29-2025</span>
                  </div>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents1:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents1:pointer-events-auto">
                    
                    <!-- Document Name with Icon (clickable) - MATCHES snippet -->
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-[#146B85] mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Motion for Summary Judgment - Civil Rights Case</span>
                    </a>
                    
                    <!-- Description -->
                    <p class="text-sm text-gray-700">
                      Civil rights case involving residential insurance compliance and tenant obligations.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge - Always show expanded for first card -->
              <div class="absolute bottom-2 right-2">
                <!-- Always Show Expanded Badge for First Card -->
                <div class="flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">2</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative"
                          (click)="toggleFirstCardFileActionTooltip('tracker', $event)">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded transition-opacity duration-200 whitespace-nowrap"
                         [class.opacity-100]="firstCardFileActionTooltips['tracker']"
                         [class.opacity-0]="!firstCardFileActionTooltips['tracker']"
                         [class.pointer-events-none]="!firstCardFileActionTooltips['tracker']">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative"
                          (click)="toggleFirstCardFileActionTooltip('tag', $event)">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded transition-opacity duration-200 whitespace-nowrap"
                         [class.opacity-100]="firstCardFileActionTooltips['tag']"
                         [class.opacity-0]="!firstCardFileActionTooltips['tag']"
                         [class.pointer-events-none]="!firstCardFileActionTooltips['tag']">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 2 -->
            <div *ngIf="shouldShowCard(2)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('COM892345', 'JOHNSON MANUFACTURING INC VS STATE OF NEW YORK')">
                  JOHNSON MANUFACTURING INC VS STATE OF NEW YORK
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">COM892345</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">New York State Supreme Court - Commercial Division</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">15 January 2017</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Commercial</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">In Progress</span></div>
              </div>
              
              <!-- Match Reason Snippet - Only show for DOCUMENT filter searches -->
              <div *ngIf="isFilterBasedSearch && currentFilterType === 'document'" class="flex items-start gap-2 px-3 py-2 bg-teal-50 border-l-2 border-[#146B85] rounded mb-3 match-reason-snippet">
                <i class="ri-search-line text-[#146B85] text-sm mt-0.5 flex-shrink-0"></i>
                <div class="flex-1 min-w-0">
                  <span class="text-xs font-medium text-gray-700">Matching Document:</span>
                  <span class="text-xs text-gray-900 ml-1">Motion to Compel Discovery - Manufacturing Contract</span>
                </div>
              </div>
              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/badge2 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2017-01-15</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/badge2:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket2 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2017-01-15</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket2:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant2 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2017-01-15</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant2:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents2 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2017-01-15</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents2:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents2:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-[#146B85] mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Motion to Compel Discovery - Manufacturing Contract</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Commercial contract breach case involving state manufacturing entity obligations and discovery disputes.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">2</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">2</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 3 -->
            <div *ngIf="shouldShowCard(3)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('ADM778912', 'WILSON ESTATES LLC VS CITY PLANNING COMMISSION')">
                  WILSON ESTATES LLC VS CITY PLANNING COMMISSION
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">ADM778912</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Administrative Court - Planning Division</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">22 September 2018</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Administrative</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Closed</span></div>
              </div>
              
              <!-- Match Reason Snippet - Only show for PARTY filter searches -->
              <div *ngIf="isFilterBasedSearch && currentFilterType === 'party'" class="flex items-start gap-2 px-3 py-2 bg-teal-50 border-l-2 border-[#146B85] rounded mb-3 match-reason-snippet">
                <i class="ri-search-line text-[#146B85] text-sm mt-0.5 flex-shrink-0"></i>
                <div class="flex-1 min-w-0">
                  <span class="text-xs font-medium text-gray-700">Matching Party:</span>
                  <span class="text-xs text-gray-900 ml-1">Wilson Estates LLC (Plaintiff)</span>
                </div>
              </div>
              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney3 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2018-09-22</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney3:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket3 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2018-09-22</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket3:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant3 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2018-09-22</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant3:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents3 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2018-09-22</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents3:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents3:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-gray-900 mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Motion for Summary Judgment - Administrative Appeal</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Zoning and land use case challenging municipal planning commission.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">3</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">3</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 4 -->
            <div *ngIf="shouldShowCard(4)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('PRB445621', 'MARTINEZ FAMILY TRUST VS THOMPSON HOLDINGS')">
                  MARTINEZ FAMILY TRUST VS THOMPSON HOLDINGS
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">PRB445621</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Probate Court - Estate Division</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">7 March 2019</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Probate</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Pending</span></div>
              </div>
              
              <!-- Match Reason Snippet - Only show for DOCUMENT filter searches -->
              <div *ngIf="isFilterBasedSearch && currentFilterType === 'document'" class="flex items-start gap-2 px-3 py-2 bg-teal-50 border-l-2 border-[#146B85] rounded mb-3 match-reason-snippet">
                <i class="ri-search-line text-[#146B85] text-sm mt-0.5 flex-shrink-0"></i>
                <div class="flex-1 min-w-0">
                  <span class="text-xs font-medium text-gray-700">Matching Document:</span>
                  <span class="text-xs text-gray-900 ml-1">Petition for Probate - Estate Distribution Contest</span>
                </div>
              </div>
              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney4 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2019-03-07</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney4:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket4 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2019-03-07</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket4:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant4 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2019-03-07</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant4:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents4 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2019-03-07</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents4:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents4:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-[#146B85] mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Petition for Probate - Estate Distribution Contest</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Family trust dispute involving beneficiary rights and contested estate distribution.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">4</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">4</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 5 -->
            <div *ngIf="shouldShowCard(5)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('LAB334128', 'RODRIGUEZ CONSTRUCTION VS UNION WORKERS LOCAL 247')">
                  RODRIGUEZ CONSTRUCTION VS UNION WORKERS LOCAL 247
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">LAB334128</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Labor Relations Court</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">14 November 2020</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Labor</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Arbitration</span></div>
              </div>              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney5 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2020-11-14</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney5:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket5 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2020-11-14</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket5:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant5 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2020-11-14</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant5:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents5 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2020-11-14</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents5:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents5:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-gray-900 mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Labor Dispute Arbitration Filing - Union Contract Violation</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Employment dispute concerning collective bargaining violations.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">5</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">5</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 6 -->
            <div *ngIf="shouldShowCard(6)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('COM567891', 'ANDERSON MEDICAL GROUP VS HEALTH INSURANCE CORP')">
                  ANDERSON MEDICAL GROUP VS HEALTH INSURANCE CORP
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">COM567891</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Commercial Court - Healthcare Division</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">3 June 2021</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Commercial</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Settlement</span></div>
              </div>              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney6 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2021-06-03</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney6:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket6 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2021-06-03</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket6:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant6 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2021-06-03</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant6:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents6 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2021-06-03</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents6:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents6:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-[#146B85] mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Settlement Agreement Motion - Healthcare Coverage Dispute</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Healthcare litigation involving insurance coverage denials.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">6</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">6</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 7 -->
            <div *ngIf="shouldShowCard(7)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('IP223467', 'TECH INNOVATIONS INC VS PATENT OFFICE')">
                  TECH INNOVATIONS INC VS PATENT OFFICE
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">IP223467</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Federal Circuit Court - IP Division</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">18 August 2022</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Intellectual Property</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Appeal Filed</span></div>
              </div>              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney7 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2022-08-18</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney7:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket7 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2022-08-18</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket7:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant7 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2022-08-18</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant7:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents7 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2022-08-18</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents7:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents7:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-gray-900 mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Patent Infringement Appeal Brief - Federal Circuit</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Federal intellectual property appeal challenging patent validity.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">7</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">7</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 8 -->
            <div *ngIf="shouldShowCard(8)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('ENV445123', 'ENVIRONMENTAL PROTECTION AGENCY VS CHEMICAL CORP')">
                  ENVIRONMENTAL PROTECTION AGENCY VS CHEMICAL CORP
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">ENV445123</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Environmental Court</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">29 April 2023</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Environmental</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Investigation</span></div>
              </div>              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney8 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-04-29</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney8:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket8 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-04-29</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket8:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant8 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-04-29</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant8:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents8 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-04-29</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents8:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents8:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-[#146B85] mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Environmental Impact Assessment - EPA Compliance Filing</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      EPA enforcement action concerning industrial emissions violations.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">8</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">8</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>

            <!-- Result Card 9 -->
            <div *ngIf="shouldShowCard(9)" class="border-b border-gray-200 case-card bg-zinc-200 hover:bg-white transition-all min-h-fit overflow-visible relative group p-6 border rounded-lg" style="padding-top: 22px;">
              <div class="flex items-start case-card-title">
                <i class="ri-scales-3-line text-xl text-brand flex-shrink-0"></i>
                <h3 class="text-base font-semibold text-brand leading-tight hover:underline cursor-pointer"
                    (click)="onCaseClick('FIN778934', 'GLOBAL FINANCE BANK VS MORTGAGE HOLDERS UNION')">
                  GLOBAL FINANCE BANK VS MORTGAGE HOLDERS UNION
                </h3>
              </div>
              <div class="flex flex-wrap gap-6 text-sm text-gray-700 case-card-details">
                <div class="flex items-center space-x-2"><i class="ri-hashtag text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">CASE ID:</span><span class="font-medium">FIN778934</span></div>
                <div class="flex items-center space-x-2"><i class="ri-government-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">COURT:</span><span class="font-medium">Financial Services Court</span></div>
                <div class="flex items-center space-x-2"><i class="ri-calendar-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">DATE:</span><span class="font-medium">12 December 2023</span></div>
                <div class="flex items-center space-x-2"><i class="ri-file-list-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">TYPE:</span><span class="font-medium">Financial</span></div>
                <div class="flex items-center space-x-2"><i class="ri-time-line text-gray-400"></i><span class="font-bold text-xs uppercase tracking-wide text-gray-500">STATUS:</span><span class="font-medium">Class Action</span></div>
              </div>              
              <div class="flex flex-wrap gap-4 case-card-badges">
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/attorney9 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-line text-sm"></i><span>Attorney</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-12-12</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/attorney9:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">ATTORNEY</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Legal representative providing counsel and representation for parties involved in the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/docket9 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-file-list-3-line text-sm"></i><span>Docket</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-12-12</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/docket9:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-file-list-3-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DOCKET</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Official record of all proceedings, filings, and actions taken during the course of the case.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/defendant9 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-user-forbid-line text-sm"></i><span>Defendant</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-12-12</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-lg border border-gray-200 opacity-0 group-hover/defendant9:opacity-100 transition-opacity duration-300 pointer-events-none z-50 w-80">
                    <div class="flex items-center mb-3"><i class="ri-user-forbid-line text-base mr-2 text-gray-600"></i><div class="font-semibold uppercase text-sm">DEFENDANT</div></div>
                    <div class="text-gray-600 leading-relaxed text-sm">Party being sued or accused in the legal proceedings, required to respond to the claims or charges.</div>
                  </div>
                </span>
                <span class="inline-flex items-center gap-3 px-3 rounded-lg text-xs font-medium bg-gray-200 text-gray-700 cursor-pointer relative group/documents9 h-[28px]">
                  <div class="flex items-center gap-1.5">
                    <i class="ri-folder-line text-sm"></i><span>Documents</span>
                  </div>
                  <div class="h-4 w-px bg-gray-400"></div>
                  <span class="text-[11px] font-semibold text-gray-600">2023-12-12</span>
                  <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-6 py-4 bg-white text-gray-800 rounded-lg shadow-xl border border-gray-200 opacity-0 group-hover/documents9:opacity-100 transition-all duration-300 delay-150 z-[99999] w-80 pointer-events-none group-hover/documents9:pointer-events-auto">
                    <a href="#" class="flex items-start gap-2 text-sm font-semibold text-gray-900 mb-2 hover:underline" onclick="return false;">
                      <i class="ri-folder-line text-sm mt-0.5"></i>
                      <span>Class Action Certification Motion - Financial Services</span>
                    </a>
                    <p class="text-sm text-gray-700">
                      Consumer protection class action challenging mortgage servicing.
                    </p>
                  </div>
                </span>
              </div>
              
              <!-- File Actions Badge -->
              <div class="absolute bottom-2 right-2">
                <!-- Default Badge (not on hover) - Wide for double digits -->
                <div class="group-hover:hidden flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1 shadow-sm default-file-badge-wide">
                  <i class="ri-file-text-fill text-gray-600 text-xs mr-1"></i>
                  <span class="text-xs text-gray-700 font-medium">10</span>
                </div>
                
                <!-- Expanded Badge (on hover) -->
                <div class="hidden group-hover:flex items-center space-x-1">
                  <!-- File Count Badge - Wide for double digits -->
                  <div class="flex items-center bg-white border border-gray-300 rounded-md px-2 py-1 shadow-sm expanded-file-badge-wide">
                    <i class="ri-file-text-fill text-gray-600 text-sm mr-1"></i>
                    <span class="text-xs text-gray-700 font-medium">10</span>
                  </div>
                  
                  <!-- Set Tracker Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tracker">
                    <i class="ri-time-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tracker:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Set Tracker
                    </div>
                  </button>
                  
                  <!-- Add Tag Button -->
                  <button class="flex items-center justify-center w-8 h-7 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 transition-colors relative group/tag">
                    <i class="ri-price-tag-3-line text-gray-600 text-lg"></i>
                    <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover/tag:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap">
                      Add Tag
                    </div>
                  </button>
                </div>
              </div>
            </div>
            
          </div>

  </app-cases-layout>
  
</div>

