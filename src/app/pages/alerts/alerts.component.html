<!-- Alerts Page Container -->
<div class="alerts-container">
  
  <!-- Left Side: Side Navigation Bar -->
  <app-side-nav
    [isCollapsed]="isSidebarCollapsed"
    (sidebarToggle)="onSidebarToggle()">
  </app-side-nav>
  
  <!-- Compact Header -->
  <app-header-compact
    [class.sidebar-collapsed]="isSidebarCollapsed"
    [isSidebarCollapsed]="isSidebarCollapsed"
    [projectName]="projectName"
    [currentSearchQuery]="currentSearchQuery"
    [hasSearched]="hasSearched"
    [showCollapseButton]="showCollapseButton"
    [showBackButton]="false"
    [showButtonGroup]="true"
    [isAlertPanelCollapsed]="isAlertPanelCollapsed"
    (sidebarToggle)="onSidebarToggle()"
    (projectClick)="onProjectClick()"
    (searchQueryClick)="onSearchQueryClick()"
    (search)="onSearch($event)"
    (expandSearch)="onExpandSearch()"
    (collapseSearch)="onCollapseSearch()"
    (createAlert)="onCreateAlert()"
    (alertPanelToggle)="onAlertPanelToggle()"
    (searchStateChanged)="onSearchStateChanged($event)">
  </app-header-compact>

  <!-- Alert List Layout (70/30 Split) -->
  <app-alertlist-layout
    #alertlistLayout
    [class.sidebar-collapsed]="isSidebarCollapsed"
    [isAlertPanelCollapsed]="isAlertPanelCollapsed"
    [isSidebarCollapsed]="isSidebarCollapsed"
    [isSearching]="searchState.isSearching"
    [evaluatedCount]="searchState.evaluatedCount"
    [totalCount]="searchState.totalCount"
    [caseCount]="caseCount"
    [shouldUpdateAlertHeader]="shouldUpdateAlertHeader"
    [selectedResearchQuestion]="currentResearchQuestion"
    (closeAlert)="onCloseAlert()"
    (saveAlert)="onSaveAlert($event)"
    (researchQuestionChanged)="onResearchQuestionChanged($event)"
    (sidebarCollapseRequested)="onSidebarCollapseRequested()"
    (alertPanelCollapseRequested)="onAlertPanelCollapseRequested()"
    (historyAlertSelected)="onHistoryAlertSelected($event)"
    (filteredCaseCountChanged)="onFilteredCaseCountChanged($event)"
    (alertSelected)="onAlertSelected($event)"
    (sidebarFilterChanged)="onSidebarFilterChanged($event)"
    (expandCases)="onExpandCases($event)">
  </app-alertlist-layout>
</div>
