<!-- Combined Header and Search Bar Component -->
<div class="sticky-header"
     [class.sidebar-collapsed]="isSidebarCollapsed">
  <!-- App Header -->
  <app-header 
    [showUserProfile]="true"
    [showCollapseButton]="isSidebarCollapsed"
    [projectName]="projectName"
    [searchQuery]="currentSearchQuery"
    (collapseToggle)="onSidebarToggle()"
    (projectClick)="onProjectClick()"
    (searchQueryClick)="onSearchQueryClick()">
  </app-header>

  <!-- Search Bar Section -->
  <div class="bg-cases-page border-b border-gray-200" 
       [class.py-4]="!hasSearched" 
       [class.py-2]="hasSearched">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Search Input -->
      <div [class.mb-4]="!hasSearched" [class.mb-2]="hasSearched">
        <app-search-bar 
          [isCollapsed]="hasSearched"
          [searchQuery]="currentSearchQuery"
          (search)="onSearch($event)"
          (expand)="onExpandSearch()">
        </app-search-bar>
      </div>
    </div>
  </div>
</div>
