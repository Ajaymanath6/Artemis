import{c as S,f as j,h as N}from"./chunk-4CRJOQOZ.js";import{Ba as O,Ga as y,Gb as P,Hb as M,Jb as k,Ka as g,Ra as c,Sa as x,Ta as u,Ua as h,Va as s,Wa as a,Xa as d,Ya as v,Z as m,Za as f,_ as p,_a as l,ea as I,eb as _,fb as w,va as b,xa as r}from"./chunk-7FHF6YYX.js";function A(o,e){if(o&1){let t=v();s(0,"button",17),f("click",function(){m(t);let i=l();return p(i.toggleCollapse())}),d(1,"i",18),a()}}function L(o,e){if(o&1){let t=v();s(0,"div",22)(1,"button",23),f("click",function(){m(t);let i=l(2);return p(i.selectLanguage("dart"))}),d(2,"img",24),a(),s(3,"button",25),f("click",function(){m(t);let i=l(2);return p(i.selectLanguage("deep"))}),d(4,"img",26),a()()}}function T(o,e){if(o&1){let t=v();s(0,"div")(1,"button",19),f("click",function(){m(t);let i=l();return p(i.toggleLanguageDropdown())}),d(2,"img",20)(3,"i"),a(),g(4,L,5,0,"div",21),a()}if(o&2){let t=l();r(2),c("src",t.getLanguageIcon(),b),r(),h("ri-arrow-"+(t.isLanguageDropdownOpen?"up":"down")+"-s-line text-base text-gray-400 absolute right-3"),r(),c("ngIf",t.isLanguageDropdownOpen)}}function D(o,e){if(o&1){let t=v();s(0,"div",27)(1,"button",28),f("click",function(){m(t);let i=l();return p(i.toggleLanguageDropdown())}),d(2,"img",29),a()()}if(o&2){let t=l();r(2),c("src",t.getCollapsedLanguageIcon(),b)}}function V(o,e){if(o&1&&d(0,"i"),o&2){let t=l().$implicit,n=l();h("ri-arrow-"+(t.isExpanded?"down":"right")+"-s-line text-base ml-auto flex-shrink-0"),x("color",n.isActiveItem(t)?"#146B85":"#9CA3AF")}}function z(o,e){if(o&1){let t=v();s(0,"li")(1,"button",36),f("click",function(){let i=m(t).$implicit,C=l(3);return p(C.onItemClick(i))}),d(2,"i"),s(3,"span",31),_(4),a()()()}if(o&2){let t=e.$implicit,n=l(3);r(),h(n.isActiveItem(t)?"bg-blue-fill text-brand font-medium":"text-text-weak hover:bg-fill hover:text-text-strong"),r(),h("ri-"+t.icon+" text-base flex-shrink-0"),x("color",n.isActiveItem(t)?"#146B85":"#9CA3AF"),r(2),w(t.label)}}function F(o,e){if(o&1&&(s(0,"ul",35),g(1,z,5,7,"li",10),a()),o&2){let t=l().$implicit;r(),c("ngForOf",t.children)}}function H(o,e){o&1&&d(0,"div",37)}function R(o,e){if(o&1){let t=v();s(0,"li")(1,"div")(2,"button",30),f("click",function(){let i=m(t).$implicit,C=l();return p(C.onItemClick(i))}),d(3,"i"),s(4,"span",31),_(5),a(),g(6,V,1,4,"i",32),a(),g(7,F,2,1,"ul",33),a(),g(8,H,1,0,"div",34),a()}if(o&2){let t=e.$implicit,n=e.index,i=l();r(2),h(i.isActiveItem(t)?"bg-gray-light text-text-strong":"text-text-strong hover:bg-fill hover:text-brand"),u("justify-center",i.isCollapsed),r(),h("ri-"+t.icon+" text-lg flex-shrink-0"),x("color",i.isActiveItem(t)?"#146B85":"#9CA3AF"),r(),u("hidden",i.isCollapsed),r(),w(t.label),r(),c("ngIf",t.children&&!i.isCollapsed),r(),c("ngIf",t.children&&t.isExpanded&&!i.isCollapsed),r(),c("ngIf",n===0&&!i.isCollapsed)}}var E=class o{constructor(e){this.router=e;this.navItems=[{id:"all-projects",label:"All Projects",icon:"folders-line",route:"/dashboard"},{id:"project",label:"NY Judgment Tracking",icon:"folder-open-fill",isExpanded:!0,children:[{id:"project-home",label:"Project Home",icon:"home-line",route:"/cases"},{id:"project-search",label:"Search",icon:"search-line",route:"/cases"},{id:"project-tracking",label:"Tracking",icon:"time-line",route:"/tracking"},{id:"project-bookmarks",label:"Bookmarks",icon:"bookmark-line",route:"/bookmarks"},{id:"project-manage",label:"Manage Project",icon:"edit-line",route:"/project/manage"}]},{id:"history",label:"History",icon:"history-line",isExpanded:!1,children:this.getSearchHistory()}]}navItems=[];isCollapsed=!1;itemClick=new I;sidebarToggle=new I;isLanguageDropdownOpen=!1;selectedLanguage="dart";activeItemId="project-home";ngOnInit(){console.log("SideNav component initializing...","Current URL:",this.router.url),this.activeItemId||(this.activeItemId="project-home",console.log("Set default activeItemId to project-home")),this.setActiveItemBasedOnRoute(this.router.url),setTimeout(()=>{this.setActiveItemBasedOnRoute(this.router.url),console.log("SideNav forced update - active item:",this.activeItemId)},100),this.router.events.subscribe(e=>{e instanceof S&&(console.log("Route changed to:",e.url),this.setActiveItemBasedOnRoute(e.url))})}setActiveItemBasedOnRoute(e){console.log("Setting active item for URL:",e),e==="/cases"||e.startsWith("/case/")?this.restoreActiveItemState()==="project-search"?(this.activeItemId="project-search",console.log("Restored active item: project-search")):(this.activeItemId="project-home",console.log("Default active item: project-home")):e==="/dashboard"?(this.activeItemId="all-projects",console.log("Set active item for dashboard: all-projects")):(this.activeItemId="project-home",console.log("Default for other route: project-home")),console.log("Final active item ID:",this.activeItemId)}saveActiveItemState(){try{localStorage.setItem("sidebarActiveItem",this.activeItemId),console.log("Sidebar active item saved:",this.activeItemId)}catch(e){console.warn("Failed to save sidebar active item:",e)}}restoreActiveItemState(){try{let e=localStorage.getItem("sidebarActiveItem");return console.log("Sidebar active item restored:",e),e}catch(e){return console.warn("Failed to restore sidebar active item:",e),null}}toggleCollapse(){this.sidebarToggle.emit(),this.isCollapsed&&this.navItems.forEach(e=>{e.children&&(e.isExpanded=!1)})}onItemClick(e){e.children&&!this.isCollapsed?e.isExpanded=!e.isExpanded:e.route&&(this.activeItemId=e.id,this.saveActiveItemState(),this.router.navigate([e.route])),this.itemClick.emit(e)}isActiveRoute(e){return this.router.url===e}isActiveItem(e){if(console.log("Checking isActiveItem for:",e.id,"activeItemId:",this.activeItemId,"currentUrl:",this.router.url),!e.route)return!1;let t=this.router.url===e.route,n=this.router.url.startsWith("/case/");if(e.route==="/cases"){if(t||n){let i=this.activeItemId===e.id;return console.log(`Item ${e.id} is ${i?"ACTIVE":"not active"}`),i}}else if(t)return!0;return!1}toggleLanguageDropdown(){this.isLanguageDropdownOpen=!this.isLanguageDropdownOpen}selectLanguage(e){this.selectedLanguage=e,this.isLanguageDropdownOpen=!1,console.log("Language selected:",e)}getLanguageIcon(){return this.selectedLanguage==="dart"?"assets/images/dartfull.svg":"assets/images/deep.svg"}getCollapsedLanguageIcon(){return this.selectedLanguage==="dart"?"assets/images/dartsmall.svg":"assets/images/deepsmall.svg"}getSearchHistory(){try{let e=localStorage.getItem("searchHistory");if(e)return JSON.parse(e).slice(0,5).map((n,i)=>({id:`history-${i}`,label:this.truncateSearchTerm(n),icon:"search-2-line",route:"/cases",fullTerm:n}))}catch(e){console.warn("Failed to load search history:",e)}return[]}truncateSearchTerm(e){return e.length<=25?e:e.substring(0,25)+"..."}addToSearchHistory(e){if(e.trim())try{let t=[],n=localStorage.getItem("searchHistory");n&&(t=JSON.parse(n)),t=t.filter(i=>i!==e),t.unshift(e),t=t.slice(0,10),localStorage.setItem("searchHistory",JSON.stringify(t)),this.updateHistoryNavItems()}catch(t){console.warn("Failed to save search history:",t)}}updateHistoryNavItems(){let e=this.navItems.find(t=>t.id==="history");e&&(e.children=this.getSearchHistory())}static \u0275fac=function(t){return new(t||o)(O(j))};static \u0275cmp=y({type:o,selectors:[["app-side-nav"]],inputs:{navItems:"navItems",isCollapsed:"isCollapsed"},outputs:{itemClick:"itemClick",sidebarToggle:"sidebarToggle"},decls:20,vars:21,consts:[[1,"bg-white","border-r","border-gray-200","h-screen","flex","flex-col","fixed","left-0","top-0","z-40"],[1,"flex","items-center","justify-between","px-4","py-4","border-b","border-gray-200"],[1,"flex","items-center"],["alt","UniCourt Logo",1,"h-8","w-auto",3,"src"],["class","p-2 rounded-lg hover:bg-gray-100 transition-colors ml-auto focus:outline-none",3,"click",4,"ngIf"],[1,"flex-1","overflow-y-auto","py-4"],[1,"relative","mb-4"],[4,"ngIf"],["class","flex justify-center",4,"ngIf"],[1,"space-y-2"],[4,"ngFor","ngForOf"],[1,"p-4","border-t","border-gray-200"],[1,"flex","items-center","space-x-3","px-3","py-2"],[1,"text-lg"],[1,"flex-1","text-left","bg-transparent","border-none","focus:outline-none","text-text-strong","hover:text-brand","transition-colors"],[1,"text-sm","font-medium"],[1,"text-xs","text-text-weak"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","ml-auto","focus:outline-none",3,"click"],[1,"ri-layout-right-line","text-lg",2,"color","#9CA3AF"],[1,"w-full","flex","items-center","justify-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","group","focus:outline-none","hover:bg-fill","relative",3,"click"],["alt","Language",1,"h-5","w-16","flex-shrink-0","object-contain",3,"src"],["class","absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",4,"ngIf"],[1,"absolute","top-full","left-0","right-0","mt-1","bg-white","border","border-gray-200","rounded-lg","shadow-lg","z-50"],[1,"w-full","flex","items-center","justify-center","px-3","py-3","text-sm","hover:bg-gray-50","transition-colors","focus:outline-none","first:rounded-t-lg",3,"click"],["src","assets/images/dartfull.svg","alt","Dart",1,"h-5","w-16","object-contain"],[1,"w-full","flex","items-center","justify-center","px-3","py-3","text-sm","hover:bg-gray-50","transition-colors","focus:outline-none","last:rounded-b-lg",3,"click"],["src","assets/images/deep.svg","alt","Deep",1,"h-5","w-16","object-contain"],[1,"flex","justify-center"],[1,"p-2","rounded-lg","transition-colors","focus:outline-none","hover:bg-fill",3,"click"],["alt","Language",1,"h-collapsed-logo","object-contain",3,"src"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-colors","group","focus:outline-none",3,"click"],[1,"ml-3","truncate"],[3,"class","color",4,"ngIf"],["class","mt-2 ml-6 space-y-1",4,"ngIf"],["class","border-b border-gray-200 my-4 mx-3",4,"ngIf"],[1,"mt-2","ml-6","space-y-1"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","rounded-lg","transition-colors","focus:outline-none",3,"click"],[1,"border-b","border-gray-200","my-4","mx-3"]],template:function(t,n){t&1&&(s(0,"nav",0)(1,"div",1)(2,"div",2),d(3,"img",3),a(),g(4,A,2,0,"button",4),a(),s(5,"div",5)(6,"div",6),g(7,T,5,4,"div",7)(8,D,3,1,"div",8),a(),s(9,"ul",9),g(10,R,9,14,"li",10),a()(),s(11,"div",11)(12,"div",12)(13,"span",13),_(14,"\u{1F680}"),a(),s(15,"button",14)(16,"p",15),_(17,"Upgrade"),a(),s(18,"p",16),_(19,"Unlock premium features"),a()()()()()),t&2&&(u("w-sidebar",!n.isCollapsed)("w-16",n.isCollapsed),r(),u("justify-center",n.isCollapsed),r(2),c("src",n.isCollapsed?"assets/images/logo2.svg":"assets/images/logo1.svg",b),r(),c("ngIf",!n.isCollapsed),r(2),u("px-3",!n.isCollapsed)("px-2",n.isCollapsed),r(),c("ngIf",!n.isCollapsed),r(),c("ngIf",n.isCollapsed),r(),u("px-3",!n.isCollapsed)("px-2",n.isCollapsed),r(),c("ngForOf",n.navItems),r(),u("hidden",n.isCollapsed))},dependencies:[k,P,M,N],styles:["[_nghost-%COMP%]{display:block;height:100%}nav[_ngcontent-%COMP%]{min-height:100vh;box-shadow:0 0 0 1px #0000000d}.transition-all[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.transition-colors[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.w-sidebar[_ngcontent-%COMP%]{width:206px}.w-64[_ngcontent-%COMP%]{width:16rem}.h-screen[_ngcontent-%COMP%]{height:100vh}.fixed[_ngcontent-%COMP%]{position:fixed}.left-0[_ngcontent-%COMP%]{left:0}.top-0[_ngcontent-%COMP%]{top:0}.z-40[_ngcontent-%COMP%]{z-index:40}.justify-center[_ngcontent-%COMP%]{justify-content:center}.bg-brand[_ngcontent-%COMP%]{background-color:#146b85}.text-brand[_ngcontent-%COMP%]{color:#146b85}.bg-blue-fill[_ngcontent-%COMP%]{background-color:#2f55d90d}.bg-gray-light[_ngcontent-%COMP%]{background-color:#f3f4f6}.hover\\:bg-fill[_ngcontent-%COMP%]:hover{background-color:#e6e8f2}.hover\\:text-brand[_ngcontent-%COMP%]:hover{color:#146b85}.hover\\:text-text-strong[_ngcontent-%COMP%]:hover, .text-text-strong[_ngcontent-%COMP%]{color:#030b26}.text-text-weak[_ngcontent-%COMP%]{color:#353d59}.border-stroke-weak[_ngcontent-%COMP%]{border-color:#adb4cc}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#adb4cc;border-radius:2px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#69718c}.space-y-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.25rem}.space-x-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.75rem}.truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0}.min-w-0[_ngcontent-%COMP%]{min-width:0px}button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;outline:none}button[_ngcontent-%COMP%]:focus{outline:none}img[_ngcontent-%COMP%]{object-fit:contain}.w-8[_ngcontent-%COMP%]{width:2rem}.h-8[_ngcontent-%COMP%]{height:2rem}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-base[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.ri-folders-line[_ngcontent-%COMP%], .ri-folder-open-fill[_ngcontent-%COMP%], .ri-home-line[_ngcontent-%COMP%], .ri-search-line[_ngcontent-%COMP%], .ri-time-line[_ngcontent-%COMP%], .ri-bookmark-line[_ngcontent-%COMP%], .ri-edit-line[_ngcontent-%COMP%], .ri-arrow-down-s-line[_ngcontent-%COMP%], .ri-arrow-right-s-line[_ngcontent-%COMP%], .ri-arrow-up-s-line[_ngcontent-%COMP%]{font-style:normal;font-weight:400;line-height:1}.hover\\:bg-gray-100[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.font-medium[_ngcontent-%COMP%]{font-weight:500}.language-dropdown[_ngcontent-%COMP%]{position:relative}.language-dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:1.5rem;width:auto;object-fit:contain}.h-5[_ngcontent-%COMP%]{height:1.25rem}.w-16[_ngcontent-%COMP%]{width:4rem}.object-contain[_ngcontent-%COMP%]{object-fit:contain}.h-collapsed-logo[_ngcontent-%COMP%]{height:1.125rem;width:auto}.h-4[_ngcontent-%COMP%]{height:1rem}.w-10[_ngcontent-%COMP%]{width:2.5rem}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.z-50[_ngcontent-%COMP%]{z-index:50}.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.first\\:rounded-t-lg[_ngcontent-%COMP%]:first-child{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.last\\:rounded-b-lg[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem}@media (max-width: 768px){nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:40;transform:translate(-100%)}nav.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}}"]})};export{E as a};
